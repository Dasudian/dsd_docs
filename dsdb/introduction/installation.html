<!DOCTYPE html>
<html lang="zh">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="大数点物联网开发者平台文档，基于大数点物联网平台，帮助开发者快速构建物联网应用">
    <title>Installation</title>
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/app.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/highlight.js/9.2.0/styles/dark.min.css" rel="stylesheet">
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/common.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
    <script>
      $(function() {
        // $(".document .side_left ul li a").click(function() {
        //   $(".document .side_left ul li a").removeClass("active");
        //   $(this).addClass("active");
        // })
        $(".menu1>li>a.fold").click(function(){
				  $(".menu1 a.fold").css("background-image","url(/images/number_down.png)");
				  $(".menu2,.menu3").slideUp();
			  })
			  $(".menu2>li>a.fold").click(function(){
          $(".menu2 a.fold").css("background-image","url(/images/number_down.png)");
          $(".menu3").slideUp();
        })
        $(".fold").click(function() {
          if ($(this).next("ul").is(":hidden")) {
            $(this).css("background-image", "url(/images/number_up.png)");
            $(this).next("ul").slideDown();
          } else {
            $(this).css("background-image", "url(/images/number_down.png)");
            $(this).next("ul").slideUp();
          }
        })
      })
      $(function(){
			  $(".side_right").scroll( function() { 
				  var scrollValue=$(".side_right").scrollTop();
				  scrollValue > 100 ? $('div[class=scroll]').fadeIn():$('div[class=scroll]').fadeOut();
			  });	
			  $('#scroll').click(function(){
				  $(".side_right").animate({scrollTop:0},200);	
			  });	
		  })
    </script>
    <link href='http://fonts.useso.com/css?family=Open+Sans:300|Source+Code+Pro:400' rel='stylesheet' type='text/css'>
  </head>

  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><img src="/images/logo.png"/></a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://dasudian.com/solution" >解决方案</a></li>
            <li><a href="/" >文档</a></li>
            <li><a href="http://dasudian.com/price" >定价</a></li>
            <li><a href="https://www.github.com/Dasudian"  target="_blank" >社区</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid0 document">
      <div class="side_left">
        <ul class="menu1">
          <li><a class="fold">服务集成指南</a>
            <ul class="menu2" >
              <li><a id="srvintegrate-im-android" class="" href="/integration-dev/integrate-im-android.html">Android上集成IM功能</a></li>
              <li><a id="srvintegrate-im-ios" class="" href="/integration-dev/integrate-im-ios.html">iOS上集成IM功能</a></li>
            </ul>
          </li>
          <li><a class="fold">DS Database</a>
            <ul class="menu2" style="display: block;">
              <li><a id="dsdb-overview" class="" href="/dsdb/index.html">DSDB Overview</a></li>
              <li><a class="fold">Introduction</a>
                <ul class="menu3" style="display: block;">
                  <li><a id="dsdb-intro-overview" class="" href="/dsdb/introduction/index.html">Overview</a></li>
                  <li><a id="dsdb-intro-installation" class="active" href="/dsdb/introduction/installation.html">Installation</a></li>
                  <li><a id="dsdb-intro-start" class="" href="/dsdb/introduction/getting_started.html">Getting Started</a></li>
                </ul>
              </li>
              <li><a class="fold">Administration</a>
                <ul class="menu3" >
                  <li><a id="dsdb-admin-overview" class="" href="/dsdb/administration/index.html">administration Overview</a></li>
                  <li><a id="dsdb-authent&amp;authori" class="" href="/dsdb/administration/authentication_and_authorization.html">Authentication&Authorization</a></li>
                  <li><a id="dsdb-backup&amp;restore" class="" href="/dsdb/administration/backup_and_restore.html">Backup&Restore</a></li>
                  <li><a id="dsdb-configuration" class="" href="/dsdb/administration/config.html">Configuration</a></li>
                  <li><a id="dsdb-logs" class="" href="/dsdb/administration/logs.html">Logs</a></li>
                  <li><a id="dsdb-monitoring" class="" href="/dsdb/administration/statistics.html">Server Monitoring</a></li>
                  <li><a id="dsdb-upgrade" class="" href="/dsdb/administration/upgrading.html">Upgrading</a></li>
                </ul>
              </li>
              <li><a class="fold">Clients</a>
                <ul class="menu3" >
                  <li><a id="dsdb-clients-overview" class="" href="/dsdb/clients/index.html">Clients Overview</a></li>
                  <li><a id="dsdb-clients-httpapi" class="" href="/dsdb/clients/api.html">HTTP API</a></li>
                </ul>
              </li>
              <li><a class="fold">Concepts</a>
                <ul class="menu3" >
                  <li><a id="dsdb-concepts-overview" class="" href="/dsdb/concepts/index.html">Concepts Overview</a></li>
                  <li><a id="dsdb-key-concepts" class="" href="/dsdb/concepts/key_concepts.html">Key Concepts</a></li>
                  <li><a id="dsdb-concepts-arch" class="" href="/dsdb/concepts/how_dsdb_works.html">Architecture</a></li>
                  <li><a id="dsdb-concepts-schema-data-layout" class="" href="/dsdb/concepts/schema_and_data_layout.html">Scheam Design</a></li>
                  <li><a id="dsdb-concepts-insights-tradeoffs" class="" href="/dsdb/concepts/insights_tradeoffs.html">Insights Tradeoffs</a></li>
                  <li><a id="dsdb-concepts-api-endpoints" class="" href="/dsdb/concepts/api.html">API Endpoints&Ports</a></li>
                  <li><a id="dsdb-concepts-storage-engine" class="" href="/dsdb/concepts/storage_engine.html">Storage Engine</a></li>
                  <li><a id="dsdb-concepts-glossary" class="" href="/dsdb/concepts/glossary.html">Glossary of Terms</a></li>
                  <li><a id="dsdb-concepts-vs-sql" class="" href="/dsdb/concepts/crosswalk.html">Comparison to SQL</a></li>
                </ul>
              </li>
              <li><a class="fold">Data Sources</a>
                <ul class="menu3" >
                  <li><a id="dsdb-datasource-diamond" class="" href="/dsdb/data_sources/diamond.html">Diamond</a></li>
                  <li><a id="dsdb-datasource-opentsdb" class="" href="/dsdb/data_sources/opentsdb.html">OpenTSDB</a></li>
                  <li><a id="dsdb-datasource-carbon" class="" href="/dsdb/data_sources/carbon.html">Carbon</a></li>
                  <li><a id="dsdb-datasource-collectd" class="" href="/dsdb/data_sources/collectd.html">Collectd</a></li>
                </ul>
              </li>
              <li><a class="fold">Guides</a>
                <ul class="menu3" >
                  <li><a id="dsdb-guides-clustering" class="" href="/dsdb/guides/clustering.html">Clustering</a></li>
                  <li><a id="dsdb-guides-ddr" class="" href="/dsdb/guides/downsampling_and_retention.html">Downsampling and Data Retention</a></li>
                  <li><a id="dsdb-guides-hsg" class="" href="/dsdb/guides/hardware_sizing.html">Hardware Sizing Guidelines</a></li>
                  <li><a id="dsdb-guides-querying" class="" href="/dsdb/guides/querying_data.html">Querying Data</a></li>
                  <li><a id="dsdb-guides-writing" class="" href="/dsdb/guides/writing_data.html">Writing Data</a></li>
                </ul>
              </li>
              <li><a class="fold">Query Language</a>
                <ul class="menu3" >
                  <li><a id="dsdb-querylang-overview" class="" href="/dsdb/query_language/index.html">Overview</a></li>
                  <li><a id="dsdb-querylang-dataexp" class="" href="/dsdb/query_language/data_exploration.html">Data Exploration</a></li>
                  <li><a id="dsdb-querylang-scheamexp" class="" href="/dsdb/query_language/schema_exploration.html">Schema Exploration</a></li>
                  <li><a id="dsdb-querylang-func" class="" href="/dsdb/query_language/functions.html">Functions</a></li>
                  <li><a id="dsdb-querylang-contq" class="" href="/dsdb/query_language/continuous_queries.html">Continuous Queries</a></li>
                  <li><a id="dsdb-querylang-spec" class="" href="/dsdb/query_language/spec.html">Query Language Reference</a></li>
                  <li><a id="dsdb-querylang-mgmt" class="" href="/dsdb/query_language/database_management.html">Database Management</a></li>
                  <li><a id="dsdb-querylang-math" class="" href="/dsdb/query_language/math_operators.html">Mathematical Operators</a></li>
                </ul>
              </li>
              <li><a class="fold">Sample Data</a>
                <ul class="menu3" >
                  <li><a id="dsdb-sampledata-down" class="" href="/dsdb/sample_data/data_download.html">Sample Data Download</a></li>
                </ul>
              </li>
              <li><a class="fold">Tools</a>
                <ul class="menu3" >
                  <li><a id="dsdb-tools-overview" class="" href="/dsdb/tools/index.html">Tools Overview</a></li>
                  <li><a id="dsdb-tools-shell" class="" href="/dsdb/tools/shell.html">CLI/Shell</a></li>
                  <li><a id="dsdb-tools-webadmin" class="" href="/dsdb/tools/web_admin.html">Web Admin Interface</a></li>
                  <li><a id="dsdb-tools-grafana" class="" href="/dsdb/tools/grafana.html">Grafana Dashboards</a></li>
                  <li><a id="dsdb-tools-telegraf" class="" href="/dsdb/tools/telegraf.html">Telegraf Metrics Collection</a></li>
                  <li><a id="dsdb-tools-chronograf" class="" href="/dsdb/tools/chronograf.html">Chronograf Dashboards</a></li>
                  <li><a id="dsdb-tools-kapacitor" class="" href="/dsdb/tools/kapacitor.html">Kapacitor Monitoring</a></li>
                </ul>
              </li>
              <li><a class="fold">Write Protocols</a>
                <ul class="menu3" >
                  <li><a id="dsdb-writepro-overview" class="" href="/dsdb/write_protocols/index.html">Overview</a></li>
                  <li><a id="dsdb-writepro-line" class="" href="/dsdb/write_protocols/line.html">Line Protocol</a></li>
                  <li><a id="dsdb-writepro-syntax" class="" href="/dsdb/write_protocols/write_syntax.html">Write Syntax</a></li>
                  <li><a id="dsdb-writepro-json" class="" href="/dsdb/write_protocols/json.html">JSON Protocol</a></li>
                  <li><a id="dsdb-writepro-udp" class="" href="/dsdb/write_protocols/udp.html">Service - UDP</a></li>
                  <li><a id="dsdb-writepro-graphite" class="" href="/dsdb/write_protocols/graphite.html">Service - Graphite</a></li>
                  <li><a id="dsdb-writepro-opentsdb" class="" href="/dsdb/write_protocols/opentsdb.html">Servcie - OpenTSDB</a></li>
                  <li><a id="dsdb-writepro-collectd" class="" href="/dsdb/write_protocols/collectd.html">Service - CollectD</a></li>
                </ul>
              </li>
              <li><a class="fold">Troubleshooting</a>
                <ul class="menu3" >
                  <li><a id="dsdb-troubleshoot-overview" class="" href="/dsdb/troubleshooting/index.html">Troubleshooting Overview</a></li>
                  <li><a id="dsdb-troubleshoot-fei" class="" href="/dsdb/troubleshooting/frequently_encountered_issues.html">Frequently Encountered Issues</a></li>
                  <li><a id="dsdb-troubleshoot-monitor" class="" href="/dsdb/troubleshooting/system_monitoring.html">System Monitoring</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a class="fold">DAC Document</a>
            <ul class="menu2" >
              <li><a id="dac-principal" class="" href="/dac/dac_introduction.html">DAC工作原理</a></li>
              <li><a id="dac-java-api" class="" href="/dac/dac_cloud_api_java.html">DAC Java API</a></li>
              <li><a id="dac-c-api" class="" href="/dac/dac_cloud_api_c.html">DAC C API</a></li>
              <li><a id="dac-cpp-api" class="" href="/dac/dac_cloud_api_cpp.html">DAC C++ API</a></li>
            </ul>
          </li>
          <li><a class="fold">Data Hub</a>
            <ul class="menu2" >
              <li><a class="fold">SDK</a>
                <ul class="menu3" >
                  <li><a id="datahub-sdk-js" class="" href="/data-hub/sdk/javascript.html">JavaScript</a></li>
                  <li><a id="datahub-sdk-embededc" class="" href="/data-hub/sdk/embeded_c.html">Embeded C</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
    </div>

    <div class="side_right">
      <div class="doc">
        <h1 id="installation">Installation</h1>
<p>This page provides directions for installing, starting, and configuring DSDB.</p>
<h2 id="requirements">Requirements</h2>
<p>Installation of the DSDB package may require <code>root</code> or administrator privileges in order to complete successfully.</p>
<h3 id="networking">Networking</h3>
<p>By default, DSDB uses the following network ports:</p>
<ul>
<li>TCP port <code>8083</code> is used for DSDB's <a href="/dsdb/tools/web_admin.html">Admin panel</a></li>
<li>TCP port <code>8088</code> is used for client-server communication over DSDB's HTTP API</li>
<li>TCP ports <code>8088</code> and <code>8091</code> are required for clustered DSDB instances</li>
</ul>
<blockquote>
<p>Note: In addition to the ports above,
DSDB also offers multiple plugins that may require custom ports.
All port mappings can be modified through the <a href="/dsdb/administration/config.html">configuration file</a>,
which is located at <code>/etc/dsdb/dsdb.conf</code> for default installations.</p>
</blockquote>
<h2 id="installation-1">Installation</h2>
<h3 id="ubuntu-amp-debian">Ubuntu &amp; Debian</h3>
<p>Debian and Ubuntu users can install the latest stable version of DSDB using the <code>apt-get</code> package manager.
For Ubuntu users, you can add the DSDBData repository by using the following commands:</p>
<pre><code class="language-shell">curl -sL https://repos.dasudian.com/dsdb.key | sudo apt-key add -
source /etc/lsb-release
echo "deb https://repos.dasudian.com/${DISTRIB_ID,,} ${DISTRIB_CODENAME} stable" | sudo tee /etc/apt/sources.list.d/dsdb.list</code></pre>
<p>For Debian users, you can add the DSDBData repository by using the following commands:</p>
<pre><code class="language-shell">curl -sL https://repos.dasudian.com/dsdb.key | sudo apt-key add -
source /etc/os-release
test $VERSION_ID = "7" &amp;&amp; echo "deb https://repos.dasudian.com/debian wheezy stable" | sudo tee /etc/apt/sources.list.d/dsdb.list
test $VERSION_ID = "8" &amp;&amp; echo "deb https://repos.dasudian.com/debian jessie stable" | sudo tee /etc/apt/sources.list.d/dsdb.list</code></pre>
<p>And then to install and start the DSDB service:</p>
<pre><code class="language-shell">sudo apt-get update &amp;&amp; sudo apt-get install dsdb
sudo service dsdb start</code></pre>
<h3 id="redhat-amp-centos">RedHat &amp; CentOS</h3>
<p>RedHat and CentOS users can install the latest stable version of DSDB using the <code>yum</code> package manager:</p>
<pre><code class="language-shell">cat &lt;&lt;EOF | sudo tee /etc/yum.repos.d/dsdb.repo
[dsdb]
name = DSDB Repository - RHEL \$releasever
baseurl = https://repos.dasudian.com/rhel/\$releasever/\$basearch/stable
enabled = 1
gpgcheck = 1
gpgkey = https://repos.dasudian.com/dsdb.key
EOF</code></pre>
<p>Once repository is added to the <code>yum</code> configuration,
you can install and start the DSDB service by running:</p>
<pre><code class="language-shell">sudo yum install dsdb
sudo service dsdb start</code></pre>
<h3 id="sles-amp-opensuse">SLES &amp; openSUSE</h3>
<p>There are RPM packages provided by openSUSE Build Service for SUSE Linux users:</p>
<pre><code class="language-shell"># add go repository
zypper ar -f obs://devel:languages:go/ go
# install latest dsdb
zypper in dsdb</code></pre>
<h3 id="freebsdpc-bsd">FreeBSD/PC-BSD</h3>
<p>DSDB is part of the FreeBSD package system.
It can be installed by running:</p>
<pre><code class="language-shell">sudo pkg install dsdb</code></pre>
<p>The configuration file is located at <code>/usr/local/etc/influxd.conf</code> with examples in <code>/usr/local/etc/influxd.conf.sample</code>.</p>
<p>Start the backend by executing:</p>
<pre><code class="language-shell">sudo service influxd onestart</code></pre>
<p>To have DSDB start at system boot, add <code>influxd_enable="YES"</code> to <code>/etc/rc.conf</code>.</p>
<h3 id="mac-os-x">Mac OS X</h3>
<p>Users of OS X 10.8 and higher can install DSDB using the <a href="http://brew.sh/">Homebrew</a> package manager.
Once <code>brew</code> is installed, you can install DSDB by running:</p>
<pre><code class="language-shell">brew update
brew install dsdb</code></pre>
<p>To have <code>launchd</code> start DSDB at login, run:</p>
<pre><code class="language-shell">ln -sfv /usr/local/opt/dsdb/*.plist ~/Library/LaunchAgents</code></pre>
<p>And then to start DSDB now, run:</p>
<pre><code class="language-shell">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.dsdb.plist</code></pre>
<p>Or, if you don't want/need launchctl, in a separate terminal window you can just run:</p>
<pre><code class="language-shell">influxd -config /usr/local/etc/dsdb.conf</code></pre>
<h2 id="hosted">Hosted</h2>
<p>For users who don't want to install any software and are ready to use DSDB, you may want to check out our <a href="http://customers.dasudian.com">managed hosted DSDB offering</a>.</p>
<p><a href="/dsdb/introduction/getting_started.html"><font size="6"><b>⇒ Now get started!</b></font></a></p>
<h2 id="configuration">Configuration</h2>
<p>For non-packaged installations, it is a best practice to generate a new configuration
for each upgrade to ensure you have the latest features and settings.
Any changes made in the old file will need to be manually ported to the newly generated file.
Packaged installations will come with a configuration pre-installed,
so this step may not be needed if you installed DSDB using a
package manager (though it is handy to know either way).</p>
<blockquote>
<p>Note: Newly generated configuration files have no knowledge of any local customizations or settings.
Please make sure to double-check any configuration changes prior to deploying them.</p>
</blockquote>
<p>To generate a new configuration file, run:</p>
<pre><code class="language-shell">influxd config &gt; dsdb.generated.conf</code></pre>
<p>And then edit the <code>dsdb.generated.conf</code> file to have the desired configuration settings.
When launching DSDB, point the process to the correct configuration file using the <code>-config</code> option. For example, use:</p>
<pre><code class="language-shell">influxd -config dsdb.generated.conf</code></pre>
<p>To launch DSDB with your newly generated configuration. In addition, a valid configuration file can be displayed at any time using the command <code>influxd config</code>.</p>
<p>If no <code>-config</code> option is supplied, DSDB will use an internal default configuration (equivalent to the output of <code>influxd config</code>).</p>
<blockquote>
<p>Note: The <code>influxd</code> command has two similarly named flags.
The <code>config</code> flag prints a generated default configuration file to STDOUT but does not launch the <code>influxd</code> process.
The <code>-config</code> flag takes a single argument, which is the path to the DSDB configuration file to use when launching the process.</p>
</blockquote>
<p>The <code>config</code> and <code>-config</code> flags can be combined to output the union of the internal default configuration and the configuration file passed to <code>-config</code>.
The options specified in the configuration file will overwrite any internally generated configuration.</p>
<pre><code class="language-shell">influxd config -config /etc/dsdb/dsdb.partial.conf</code></pre>
<p>The output will show every option configured in the <code>dsdb.partial.conf</code> file and will substitute internal defaults for any configuration options not specified in that file.</p>
<p>The example configuration file shipped with the installer is for information only.
It is an identical file to the internally generated configuration except that the example file has comments.</p>
<h2 id="hosting-on-aws">Hosting on AWS</h2>
<h3 id="hardware">Hardware</h3>
<p>We recommend using two SSD volumes.
One for the <code>dsdb/wal</code> and one for the <code>dsdb/data</code>.
Depending on your load each volume should have around 1k-3k provisioned IOPS.
The <code>dsdb/data</code> volume should have more disk space with lower IOPS and the <code>dsdb/wal</code> volume should have less disk space with higher IOPS.</p>
<p>Each machine should have a minimum of 8G RAM.</p>
<p>We’ve seen the best performance with the C3 class of machines.</p>
<h3 id="configuring-the-instance">Configuring the Instance</h3>
<p>This example assumes that you are using two SSD volumes and that you have mounted them appropriately.
This example also assumes that each of those volumes is mounted at <code>/mnt/influx</code> and <code>/mnt/db</code>.
For more information on how to do that see the Amazon documentation on how to <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-add-volume-to-instance.html">Add a Volume to Your Instance</a>.</p>
<h3 id="config-file">Config File</h3>
<p>You'll have to update the config file appropriately for each DSDB instance you have.</p>
<pre><code>...

[meta]
  dir = "/mnt/db/meta"
  ...

...

[data]
  dir = "/mnt/db/data"
  ...
wal-dir = "/mnt/influx/wal"
  ...

...

[hinted-handoff]
    ...
dir = "/mnt/db/hh"
    ...</code></pre>
<h3 id="permissions">Permissions</h3>
<p>When using non-standard directories for DSDB data and configurations, also be sure to set filesystem permissions correctly:</p>
<pre><code class="language-shell">chown dsdb:dsdb /mnt/influx
chown dsdb:dsdb /mnt/db</code></pre>
<h3 id="other-considerations">Other Considerations</h3>
<p>If you're planning on using a cluster, you may also want to set <code>-join</code> flags for the <code>INFLUXD_OPTS</code> variable in <code>/etc/default/dsdb</code>.
For example:</p>
<pre><code>INFLUXD_OPTS='[-join hostname_1:port_1[,hostname_2:port_2]]'</code></pre>
<p>For more detailed instructions on how to set up a cluster, please see the <a href="/dsdb/guides/clustering.html">Clustering</a> section.</p>
<h2 id="nightly-and-development-versions">Nightly and Development Versions</h2>
<p>Nightly packages are available for Linux through the DSDBData package repository by using the <code>nightly</code> channel.
Other package options can be found on the <a href="https://dasudian.com/downloads/">downloads page</a></p>
      </div>

              <div class="tract"><img src="/images/tract.png"/></div>
            <div class="clearfix"></div>
      <div class="scroll" id="scroll" style="display:none;">
			     <img src="/images/top.png"/>
		  </div>
    </div>
  </div>
  <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>
