<!DOCTYPE html>
<html lang="zh">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="大数点物联网开发者平台文档，基于大数点物联网平台，帮助开发者快速构建物联网应用">
    <title>DAC Java API</title>
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/app.css" rel="stylesheet">
    <link href="/css/doc.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/highlight.js/9.2.0/styles/dark.min.css" rel="stylesheet">
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/common.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
    <script>
      $(function() {
        // $(".document .side_left ul li a").click(function() {
        //   $(".document .side_left ul li a").removeClass("active");
        //   $(this).addClass("active");
        // })
        $(".menu1>li>a.fold").click(function(){
				  $(".menu1 a.fold").css("background-image","url(/images/number_down.png)");
				  $(".menu2,.menu3").slideUp();
			  })
			  $(".menu2>li>a.fold").click(function(){
          $(".menu2 a.fold").css("background-image","url(/images/number_down.png)");
          $(".menu3").slideUp();
        })
        $(".fold").click(function() {
          if ($(this).next("ul").is(":hidden")) {
            $(this).css("background-image", "url(/images/number_up.png)");
            $(this).next("ul").slideDown();
          } else {
            $(this).css("background-image", "url(/images/number_down.png)");
            $(this).next("ul").slideUp();
          }
        })
      })
      $(function(){
			  $(".side_right").scroll( function() { 
				  var scrollValue=$(".side_right").scrollTop();
				  scrollValue > 100 ? $('div[class=scroll]').fadeIn():$('div[class=scroll]').fadeOut();
			  });	
			  $('#scroll').click(function(){
				  $(".side_right").animate({scrollTop:0},200);	
			  });	
		  })
    </script>
    <link href='//fonts.useso.com/css?family=Open+Sans:300|Source+Code+Pro:400' rel='stylesheet' type='text/css'>
  </head>

  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://dev.dasudian.com"><img src="/images/logo.png"/></a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://dasudian.com/datahub" >IoT Data Hub</a></li>
            <li><a href="http://dasudian.com/product_service" >产品服务</a></li>
            <li><a href="/" >文档</a></li>
            <li><a href="http://dasudian.com/price" >定价</a></li>
            <li><a href="https://www.github.com/Dasudian"  target="_blank" >社区</a></li>
            <li><a href="https://dev.dasudian.com/login/view" class="btn-small">登录</a></li>
            <li><a href="https://dev.dasudian.com/sign_up/view" class="btn-small">注册</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid0 document">
      <div class="side_left">
        <ul class="menu1">
          <li><a class="fold">服务集成指南</a>
            <ul class="menu2" >
              <li><a id="srvintegrate-index" class="" href="/integration-dev/index.html">服务集成</a></li>
              <li><a class="fold">IM即时消息服务</a>
                <ul class="menu3" >
                  <li><a id="srvintegrate-im-android" class="" href="/integration-dev/im/integrate-im-android.html">Android上集成IM功能</a></li>
                  <li><a id="srvintegrate-im-ios" class="" href="/integration-dev/im/integrate-im-ios.html">iOS上集成IM功能</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a class="fold">DS Database</a>
            <ul class="menu2" >
              <li><a id="dsdb-overview" class="" href="/dsdb/index.html">DSDB Overview</a></li>
              <li><a class="fold">Introduction</a>
                <ul class="menu3" >
                  <li><a id="dsdb-intro-overview" class="" href="/dsdb/introduction/index.html">Overview</a></li>
                  <li><a id="dsdb-intro-installation" class="" href="/dsdb/introduction/installation.html">Installation</a></li>
                  <li><a id="dsdb-intro-start" class="" href="/dsdb/introduction/getting_started.html">Getting Started</a></li>
                </ul>
              </li>
              <li><a class="fold">Administration</a>
                <ul class="menu3" >
                  <li><a id="dsdb-admin-overview" class="" href="/dsdb/administration/index.html">administration Overview</a></li>
                  <li><a id="dsdb-authent&amp;authori" class="" href="/dsdb/administration/authentication_and_authorization.html">Authentication&Authorization</a></li>
                  <li><a id="dsdb-backup&amp;restore" class="" href="/dsdb/administration/backup_and_restore.html">Backup&Restore</a></li>
                  <li><a id="dsdb-configuration" class="" href="/dsdb/administration/config.html">Configuration</a></li>
                  <li><a id="dsdb-logs" class="" href="/dsdb/administration/logs.html">Logs</a></li>
                  <li><a id="dsdb-monitoring" class="" href="/dsdb/administration/statistics.html">Server Monitoring</a></li>
                  <li><a id="dsdb-upgrade" class="" href="/dsdb/administration/upgrading.html">Upgrading</a></li>
                </ul>
              </li>
              <li><a class="fold">Clients</a>
                <ul class="menu3" >
                  <li><a id="dsdb-clients-overview" class="" href="/dsdb/clients/index.html">Clients Overview</a></li>
                  <li><a id="dsdb-clients-httpapi" class="" href="/dsdb/clients/api.html">HTTP API</a></li>
                </ul>
              </li>
              <li><a class="fold">Concepts</a>
                <ul class="menu3" >
                  <li><a id="dsdb-concepts-overview" class="" href="/dsdb/concepts/index.html">Concepts Overview</a></li>
                  <li><a id="dsdb-key-concepts" class="" href="/dsdb/concepts/key_concepts.html">Key Concepts</a></li>
                  <li><a id="dsdb-concepts-arch" class="" href="/dsdb/concepts/how_dsdb_works.html">Architecture</a></li>
                  <li><a id="dsdb-concepts-schema-data-layout" class="" href="/dsdb/concepts/schema_and_data_layout.html">Scheam Design</a></li>
                  <li><a id="dsdb-concepts-insights-tradeoffs" class="" href="/dsdb/concepts/insights_tradeoffs.html">Insights Tradeoffs</a></li>
                  <li><a id="dsdb-concepts-api-endpoints" class="" href="/dsdb/concepts/api.html">API Endpoints&Ports</a></li>
                  <li><a id="dsdb-concepts-storage-engine" class="" href="/dsdb/concepts/storage_engine.html">Storage Engine</a></li>
                  <li><a id="dsdb-concepts-glossary" class="" href="/dsdb/concepts/glossary.html">Glossary of Terms</a></li>
                  <li><a id="dsdb-concepts-vs-sql" class="" href="/dsdb/concepts/crosswalk.html">Comparison to SQL</a></li>
                </ul>
              </li>
              <li><a class="fold">Data Sources</a>
                <ul class="menu3" >
                  <li><a id="dsdb-datasource-diamond" class="" href="/dsdb/data_sources/diamond.html">Diamond</a></li>
                  <li><a id="dsdb-datasource-opentsdb" class="" href="/dsdb/data_sources/opentsdb.html">OpenTSDB</a></li>
                </ul>
              </li>
              <li><a class="fold">Guides</a>
                <ul class="menu3" >
                  <li><a id="dsdb-guides-clustering" class="" href="/dsdb/guides/clustering.html">Clustering</a></li>
                  <li><a id="dsdb-guides-ddr" class="" href="/dsdb/guides/downsampling_and_retention.html">Downsampling and Data Retention</a></li>
                  <li><a id="dsdb-guides-hsg" class="" href="/dsdb/guides/hardware_sizing.html">Hardware Sizing Guidelines</a></li>
                  <li><a id="dsdb-guides-querying" class="" href="/dsdb/guides/querying_data.html">Querying Data</a></li>
                  <li><a id="dsdb-guides-writing" class="" href="/dsdb/guides/writing_data.html">Writing Data</a></li>
                </ul>
              </li>
              <li><a class="fold">Query Language</a>
                <ul class="menu3" >
                  <li><a id="dsdb-querylang-overview" class="" href="/dsdb/query_language/index.html">Overview</a></li>
                  <li><a id="dsdb-querylang-dataexp" class="" href="/dsdb/query_language/data_exploration.html">Data Exploration</a></li>
                  <li><a id="dsdb-querylang-scheamexp" class="" href="/dsdb/query_language/schema_exploration.html">Schema Exploration</a></li>
                  <li><a id="dsdb-querylang-func" class="" href="/dsdb/query_language/functions.html">Functions</a></li>
                  <li><a id="dsdb-querylang-contq" class="" href="/dsdb/query_language/continuous_queries.html">Continuous Queries</a></li>
                  <li><a id="dsdb-querylang-spec" class="" href="/dsdb/query_language/spec.html">Query Language Reference</a></li>
                  <li><a id="dsdb-querylang-mgmt" class="" href="/dsdb/query_language/database_management.html">Database Management</a></li>
                  <li><a id="dsdb-querylang-math" class="" href="/dsdb/query_language/math_operators.html">Mathematical Operators</a></li>
                </ul>
              </li>
              <li><a class="fold">Sample Data</a>
                <ul class="menu3" >
                  <li><a id="dsdb-sampledata-down" class="" href="/dsdb/sample_data/data_download.html">Sample Data Download</a></li>
                </ul>
              </li>
              <li><a class="fold">Tools</a>
                <ul class="menu3" >
                  <li><a id="dsdb-tools-overview" class="" href="/dsdb/tools/index.html">Tools Overview</a></li>
                  <li><a id="dsdb-tools-shell" class="" href="/dsdb/tools/shell.html">CLI/Shell</a></li>
                  <li><a id="dsdb-tools-webadmin" class="" href="/dsdb/tools/web_admin.html">Web Admin Interface</a></li>
                </ul>
              </li>
              <li><a class="fold">Write Protocols</a>
                <ul class="menu3" >
                  <li><a id="dsdb-writepro-overview" class="" href="/dsdb/write_protocols/index.html">Overview</a></li>
                  <li><a id="dsdb-writepro-line" class="" href="/dsdb/write_protocols/line.html">Line Protocol</a></li>
                  <li><a id="dsdb-writepro-syntax" class="" href="/dsdb/write_protocols/write_syntax.html">Write Syntax</a></li>
                  <li><a id="dsdb-writepro-json" class="" href="/dsdb/write_protocols/json.html">JSON Protocol</a></li>
                  <li><a id="dsdb-writepro-udp" class="" href="/dsdb/write_protocols/udp.html">Service - UDP</a></li>
                  <li><a id="dsdb-writepro-graphite" class="" href="/dsdb/write_protocols/graphite.html">Service - Graphite</a></li>
                  <li><a id="dsdb-writepro-opentsdb" class="" href="/dsdb/write_protocols/opentsdb.html">Servcie - OpenTSDB</a></li>
                  <li><a id="dsdb-writepro-collectd" class="" href="/dsdb/write_protocols/collectd.html">Service - CollectD</a></li>
                </ul>
              </li>
              <li><a class="fold">Troubleshooting</a>
                <ul class="menu3" >
                  <li><a id="dsdb-troubleshoot-overview" class="" href="/dsdb/troubleshooting/index.html">Troubleshooting Overview</a></li>
                  <li><a id="dsdb-troubleshoot-fei" class="" href="/dsdb/troubleshooting/frequently_encountered_issues.html">Frequently Encountered Issues</a></li>
                  <li><a id="dsdb-troubleshoot-monitor" class="" href="/dsdb/troubleshooting/system_monitoring.html">System Monitoring</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a class="fold">DSD API Container(DAC)</a>
            <ul class="menu2" style="display: block;">
              <li><a id="dac-principal" class="" href="/dac/index.html">DAC介绍</a></li>
              <li><a id="dac-java-api" class="active" href="/dac/dac_cloud_api_java.html">DAC Java API</a></li>
              <li><a id="dac-c-api" class="" href="/dac/dac_cloud_api_c.html">DAC C API</a></li>
              <li><a id="dac-cpp-api" class="" href="/dac/dac_cloud_api_cpp.html">DAC C++ API</a></li>
            </ul>
          </li>
          <li><a class="fold">Data Hub</a>
            <ul class="menu2" >
              <li><a id="datahub-index" class="" href="/datahub/index.html">Data Hub Overview</a></li>
              <li><a class="fold">SDK</a>
                <ul class="menu3" >
                  <li><a id="datahub-sdk-js" class="" href="/datahub/sdk/javascript.html">JavaScript</a></li>
                  <li><a id="datahub-sdk-embededc" class="" href="/datahub/sdk/embeded_c.html">Embeded C</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
    </div>

    <div class="side_right">
      <div class="doc">
        <h1 id="dsd-dac_cloud-api--java">DSD DAC_CLOUD API 指导手册 （JAVA）</h1>
<h2 id="">引言</h2>
<p>DSD DAC_CLOUD API提供了功能丰富但使用简单的服务器开发的JAVA API，该API极大的降低了服务器开发与维护难度，降低开发成本，缩短开发周期。用户无需关注服务器的负载均衡性能等问题，只需关注简单的业务逻辑，如同开发简单的单机应用，就可以实现丰富的服务器应用。 </p>
<h2 id="-1">安装环境</h2>
<p>安装环境就是编译环境，目前只支持<br />
Ubuntu 14.06和Ubuntu 14.10。   </p>
<h2 id="-2">编译方法</h2>
<ol>
<li>下载SDK jar包到指定目录   </li>
<li>在工程中以外部链接库的方式导入该jar包，Eclipse中方法如下:打开工程的<code>properties</code> -&gt; 选择<code>java build path</code> -&gt;选择<code>Add external JARs</code>   </li>
<li>生成jar时，添加外部的<code>manifest.mf</code>文件，在manifest.mf中添加如下  
<blockquote>
<p>Class-Path: /usr/local/lib/dac-1.0.0/api/java/dasudian.jar</p>
</blockquote></li>
</ol>
<h2 id="api-">API 类</h2>
<p>API 类是该sdk的主要类，developers调用该类与erlang虚拟机交互，处理http请求或其他服务请求。</p>
<h3 id="-3">包</h3>
<p><code>API</code> 类在<code>com.dasudian.cloud</code>包中。  </p>
<h3 id="-4">属性</h3>
<h5 id="async">ASYNC</h5>
<pre><code class="language-java">static final int ASYNC</code></pre>
<p>标示异步请求类型，值为1 。 </p>
<h5 id="sync">SYNC</h5>
<pre><code class="language-java">static final int SYNC</code></pre>
<p>标示同步请求类型，值为-1 。  </p>
<h3 id="-5">方法</h3>
<h5 id="api">API</h5>
<pre><code class="language-java">API(int index)</code></pre>
<p>API构造函数。<br />
<strong>参数：</strong><br />
<code>index</code>  - 与erlang虚拟机交互的线程索引，不能超过thread_count的返回值。<br />
<strong>返回：</strong><br />
返回当前的API实例。</p>
<h5 id="thread_count">thread_count</h5>
<pre><code class="language-java">int thread_count()</code></pre>
<p>获取服务系统支持的与erlang虚拟机交互的最大线程数。<br />
<strong>参数：</strong><br />
无<br />
<strong>返回：</strong><br />
返回系统支持的最大线程数。    </p>
<h5 id="subscribe">subscribe</h5>
<pre><code class="language-java">void subscribe(final String pattern, 
                      final Object instance, 
                      final String methodName)</code></pre>
<p>订阅一个服务，服务由服务名和服务前缀唯一标示。<br />
<strong>参数：</strong><br />
<code>IN   pattern</code> - 服务名。服务id由服务前缀和服务名来唯一标示，服务前缀是包含该服务的应用上传时确定的。具体格式为<code>/prefix/pattern</code> ，对于http服务，get和post服务是分开的，格式如<code>name/get</code> 或者<code>name/post</code>  。<br />
<code>IN   instance</code> - 服务的回调函数的执行对象。<br />
<code>IN   methodname</code>  - 回调函数名。当收到该服务后，SDK会回调该方法。<br />
<strong>返回：</strong><br />
无  </p>
<h5 id="send_sync">send_sync</h5>
<pre><code class="language-java">Response send_sync(String name, 
                              byte[] request)</code></pre>
<p>发送同步请求给服务名为name的服务,其他参数为默认值。<br />
<strong>参数：</strong><br />
<code>IN name</code>  - 请求的服务名。<br />
<code>IN response</code> - 请求的内容。<br />
<strong>返回值：</strong><br />
返回一个Response对象。   </p>
<h5 id="send_sync-1">send_sync</h5>
<pre><code class="language-java">Response send_sync(String name, 
                              byte[] request_info, 
                              byte[] request,
                              Integer timeout, 
                              Byte priority)</code></pre>
<p>发送同步请求给服务名为name的服务。<br />
<strong>参数：</strong><br />
<code>IN name</code>  - 请求的服务名<br />
<code>IN request_info</code> - 请求的metedata数据<br />
<code>IN response</code> - 请求的内容<br />
<code>IN timeout</code> - 阻塞时间<br />
<code>IN priority</code> - 请求的优先级<br />
<strong>返回值：</strong><br />
返回一个Response对象。  </p>
<h5 id="send_async">send_async</h5>
<pre><code class="language-java">TransId send_async(String name, 
                              byte[] request)</code></pre>
<p>异步请求服务名为name的服务，其他参数为默认值
<strong>参数：</strong><br />
<code>IN name</code>  - 请求的服务名。<br />
<code>IN response</code>  - 请求的内容。<br />
<strong>返回值：</strong><br />
返回一个TransId对象，表示该次请求的会话id 。   </p>
<h5 id="send_async-1">send_async</h5>
<pre><code class="language-java">TransId send_async(String name, 
                              byte[] request_info, 
                              byte[] request,
                              Integer timeout, 
                              Byte priority)</code></pre>
<p>异步请求服务名为name的服务。<br />
<strong>参数：</strong><br />
<code>IN name</code>  - 请求的服务名。<br />
<code>IN request_info</code> - 请求的metedata数据。<br />
<code>IN response</code> - 请求的内容。<br />
<code>IN timeout</code> - 阻塞时间。<br />
<code>IN priority</code> - 请求的优先级。<br />
<strong>返回值：</strong><br />
返回一个TransId对象，表示该次请求的会话id 。  </p>
<h5 id="recv_async">recv_async</h5>
<pre><code class="language-java">Response recv_async()</code></pre>
<p>获取最后一次请求transid的返回内容,阻塞时间为默认值。<br />
<strong>参数：</strong><br />
无<br />
<strong>返回值：</strong><br />
返回一个Response对象。  </p>
<h5 id="recv_async-1">recv_async</h5>
<pre><code class="language-java">Response recv_async(Integer timeout)</code></pre>
<p>获取最后一个transid的返回内容,阻塞timeout 毫秒数。<br />
<strong>参数：</strong><br />
<code>IN timeout</code> - 方法的阻塞时间。<br />
<strong>返回值：</strong><br />
返回一个Response对象。  </p>
<h5 id="recv_async-2">recv_async</h5>
<pre><code class="language-java">Response recv_async(byte[] trans_id)</code></pre>
<p>获取会话trans_id的返回内容。<br />
<strong>参数：</strong><br />
<code>IN trans_id</code> - 会话id 。<br />
<strong>返回值：</strong><br />
返回一个Response对象。  </p>
<h5 id="recv_async-3">recv_async</h5>
<pre><code class="language-java">Response recv_async(Integer timeout, byte[] trans_id)</code></pre>
<p>获取会话trans_id的返回内容 ，阻塞时间为timeout  。<br />
<strong>参数：</strong><br />
<code>IN trans_id</code> - 会话id  。<br />
<code>IN timeout</code> - 阻塞时间，单位为ms 。<br />
<strong>返回值：</strong><br />
返回一个Response对象。  </p>
<h5 id="publish">publish</h5>
<pre><code class="language-java">List&lt; TransId &gt; publish(String name, byte[] request)</code></pre>
<p>向服务名为name的所有服务发布请求。<br />
<strong>参数：</strong><br />
<code>IN name</code>  服务名，可以为正则表达式。<br />
<code>IN request</code> 请求内容。<br />
<strong>返回值：</strong><br />
返回一个TransId列表。  </p>
<h5 id="publish-1">publish</h5>
<pre><code class="language-java">List&lt; TransId &gt; publish(String name,
                                     byte[] request_info, byte[] request,
                                     Integer timeout, Byte priority)</code></pre>
<p>向服务名为name的所有服务发布请求。<br />
<strong>参数：</strong><br />
<code>IN name</code>  - 服务名，可以为正则表达式。<br />
<code>IN request</code> - 请求内容。<br />
<code>IN request_info</code> - 请求的metedata数据。<br />
<code>IN timeout</code> - publish的阻塞时间。<br />
<code>IN priority</code> - 服务请求的优先级。<br />
<strong>返回值：</strong><br />
返回一个TransId列表。  </p>
<h5 id="forward_async">forward_async</h5>
<pre><code class="language-java">void forward_async(String name, byte[] request_info, byte[] request,
                              Integer timeout, Byte priority,
                              byte[] trans_id, DacPid pid)</code></pre>
<p>异步转发请求给服务名为name的服务,执行完毕后抛出一个SDK必须要获取的ForwardAsyncException异常，应用程序必须将其抛出，否则会报错。即之后的代码 不会执行。目的服务执行完会直接回复请求。<br />
<strong>参数：</strong><br />
<code>IN name</code> - 目的服务名，可以为正则表达式。<br />
<code>IN request_info</code> - 请求的元数据。<br />
<code>IN request</code> - 请求内容。<br />
<code>IN timeout</code> - 请求的阻塞时间。<br />
<code>IN priority</code> - 请求的优先级。<br />
<code>IN trans_id</code> - 转发请求的事务id 。<br />
<code>IN pi</code> - 转发请求的pid 。<br />
<strong>返回值：</strong><br />
无</p>
<h5 id="forward_sync">forward_sync</h5>
<pre><code class="language-java">void forward_sync(String name, byte[] request_info, byte[] request,
                              Integer timeout, Byte priority,
                              byte[] trans_id, DacPid pid)</code></pre>
<p>同步转发外界请求给服务名为name的服务,执行完毕后抛出一个SDK必须要获取的ForwardsyncException异常，应用程序必须将其抛出，否则会报错。即之后的代码 不会执行。目的服务执行完后会回复请求。<br />
<strong>参数：</strong><br />
<code>IN name</code> - 目的服务名，可以为正则表达式。<br />
<code>IN request_info</code> - 请求的元数据。<br />
<code>IN request</code> - 请求内容。<br />
<code>IN timeout</code> - 请求的阻塞时间。<br />
<code>IN priority</code> - 请求的优先级。<br />
<code>IN trans_id</code> - 转发请求的事务id 。<br />
<code>IN pi</code> - 转发请求的pid 。<br />
<strong>返回值：</strong><br />
无  </p>
<h5 id="poll">poll</h5>
<pre><code class="language-java">void poll(int timeout)</code></pre>
<p>轮询是否有请求到达。<br />
<strong>参数：</strong><br />
<code>IN timeout</code> - 轮询周期，单位ms,如果设置为-1,表示永久阻塞直到有请求到来。<br />
<strong>返回值：</strong><br />
无   </p>
<h5 id="return_">return_</h5>
<pre><code class="language-java">void return_(Integer command,
                  String name, String pattern,
                  byte[] response_info, byte[] response,
                  Integer timeout, byte[] trans_id, DacPid pid)</code></pre>
<p>响应请求回复，该函数执行完毕后会抛出ReturnAsyncException或ReturnSyncException异常，应用程序不可捕获它，该异常必须得由SDK捕获，否则会报错。所以可以在回调函数的最后一行返回。<br />
<strong>参数：</strong><br />
<code>Integer command</code> - 回复类型，API.ASYNC：异步回复；API.SYNC:同步回复，必须与回调函数的参数保持一致。<br />
<code>IN name</code> - 服务名，与回调函数的参数保持一致。<br />
<code>IN request_info</code> - 请求的元数据。<br />
<code>IN request</code> - 请求内容。<br />
<code>IN timeout</code> - 请求的阻塞时间。<br />
<code>IN priority</code> - 请求的优先级。<br />
<code>IN trans_id</code> - 转发请求的事务id 。<br />
<code>IN pi</code> - 转发请求的pid 。<br />
<strong>返回值：</strong><br />
无  </p>
<h5 id="return_async">return_async</h5>
<pre><code class="language-java">void return_async(string name, 
                          String pattern, 
                          byte[] response_info, 
                          byte[] response,
                          Integer timeout, 
                          byte[] trans_id, 
                          DacPid pid)</code></pre>
<p>异步响应请求回复，该函数执行完毕后会抛出ReturnAsyncException异常，应用程序不可捕获它，该异常必须得由SDK捕获，否则会报错。所以可以在回调函数的最后一行调用该方法。<br />
<strong>参数：</strong><br />
<code>IN name</code> - 服务名，与回调函数的参数保持一致。<br />
<code>IN request_info</code> - 请求的元数据。<br />
<code>IN request</code> - 请求内容。<br />
<code>IN timeout</code> - 请求的阻塞时间。<br />
<code>IN priority</code> - 请求的优先级。<br />
<code>IN trans_id</code> 转发请求的事务id 。<br />
<code>IN pi</code>  转发请求的pid 。<br />
<strong>返回值：</strong><br />
无</p>
<h5 id="return_sync">return_sync</h5>
<pre><code class="language-java">void return_sync(string name, 
                        String pattern, 
                        byte[] response_info, 
                        byte[] response,
                        Integer timeout, 
                        byte[] trans_id, 
                        DacPid pid)</code></pre>
<p>同步响应请求回复，该函数执行完毕后会抛出ReturnAsyncException异常，应用程序不可捕获它，该异常必须得由SDK捕获，否则会报错。所以可以在回调函数的最后一行调用该方法。<br />
<strong>参数：</strong><br />
<code>IN name</code> - 服务名，与回调函数的参数保持一致。<br />
<code>IN request_info</code> - 请求的元数据。<br />
<code>IN request</code> - 请求内容。<br />
<code>IN timeout</code> - 请求的阻塞时间。<br />
<code>IN priority</code> - 请求的优先级。<br />
<code>IN trans_id</code> - 转发请求的事务id 。<br />
<code>IN pi</code> - 转发请求的pid 。<br />
<strong>返回值：</strong><br />
无</p>
<h5 id="info_key_value_parse">info_key_value_parse</h5>
<pre><code class="language-java">HashMap&lt; String, List&lt; String &gt;&gt; info_key_value_parse(byte[] info)</code></pre>
<p>对于http get 请求，其携带的参数会被转成一个byte数组，developers可以调用该函数来转成对应的&lt; key, value&gt;的结构，value为string list  。<br />
<strong>参数：</strong><br />
<code>IN info</code> - byte[]类型的数据。<br />
<strong>返回值：</strong><br />
<code>HashMap&lt; String, List&lt; String&gt;&gt;</code>类型的转换值。  </p>
<p><strong>NOTE</strong>:  </p>
<ol>
<li>callback函数返回值为object类型，如果不调用forward_async或forward<em>sync或return</em>，必须要返回数据，否则会产生NULL异常。SDK会检查callback的返回值，然后返回给服务请求者。检查类型为如下三种：   
<ul>
<li>byte[]: SDK将其作为response的内容，response_info为空string ；  </li>
<li>byte[2][]: SDK把byte[0]作为response_info, byte[1]作为response的内容；     </li>
<li>其他: SDK对其进行string处理然后作为response的内容返回给服务请求者。<br />
如果返回内容为空字符串，SDK不会回复服务请求者。所以建议返回格式为{&quot;ok&quot;,&quot;error&quot;}这种格式。 如果是http请求，返回类型不能是byte[2][]  。  </li>
</ul></li>
<li>response的对象主要由transid,response_info,response内容构成。  </li>
</ol>
<h2 id="response-">Response 类</h2>
<p>Response 类是API类的内部类，developers一般通过它来获取请求内容</p>
<h3 id="-6">包</h3>
<p>API 类在<code>com.dasudian.cloud.API</code>包中。    </p>
<h3 id="-7">属性</h3>
<p>请参见相关方法。  </p>
<h3 id="-8">方法</h3>
<h5 id="response">Response</h5>
<pre><code class="language-java">Response(byte[] info, byte[] resp, byte[] trans_id)</code></pre>
<p>构造函数，初始化一个Response对象。<br />
<strong>参数：</strong><br />
<code>IN info</code> - 返回数据的元数据。<br />
<code>IN resp</code> - 返回内容。<br />
<code>IN trans_id</code> - 会话id 。  </p>
<h5 id="isempty">isEmpty</h5>
<pre><code class="language-java">boolean isEmpty()</code></pre>
<p>检查response是否为空，空返回true ，否则false 。<br />
<strong>返回值：</strong><br />
boolean类型。  </p>
<h5 id="getresponse">getResponse</h5>
<pre><code class="language-java">string getResponse()</code></pre>
<p>获取response内容。<br />
<strong>返回值：</strong><br />
返回response内容。  </p>
<h5 id="getresponseinfo">getResponseInfo</h5>
<pre><code class="language-java">string getResponseInfo()</code></pre>
<p>获取responseInfo内容。<br />
<strong>返回值：</strong><br />
返回responseInfo内容。  </p>
<h5 id="gettransid">getTransId</h5>
<pre><code class="language-java">string getTransId()</code></pre>
<p>获取TransId内容。<br />
<strong>返回值：</strong><br />
返回获取TransId内容。  </p>
<h5 id="tostring">toString</h5>
<pre><code class="language-java">string toString()</code></pre>
<p>把response对象转化为string 类型，其转化后的格式如(responseInfo,response,transId) 。<br />
<strong>返回值：</strong><br />
String 化Response对象。  </p>
<h2 id="dsd_log-">Dsd_log 类</h2>
<p>DSD dac cloud api 提供了简单易用的日志记录类<code>Dsd_log</code>，支持日志按级别输出，日志级别共有Debug, Info, Warn, Error, Fatal 。  </p>
<h3 id="-9">包</h3>
<p>Dsd_log 类在<code>com.dasudian.cloud</code>包中。   </p>
<h3 id="-10">属性</h3>
<p>请参见相关方法。  </p>
<h3 id="-11">方法</h3>
<h5 id="getlog">getlog</h5>
<pre><code class="language-java">Dsd_log getLog()</code></pre>
<p>返回一个Dsd_log的实例，该方法是一个类方法。<br />
<strong>返回值：</strong><br />
返回一个Dsd_log类。  </p>
<h5 id="set_level">set_level</h5>
<pre><code class="language-java">void set_level(string level)</code></pre>
<p>设置日志记录级别，必须是DEBUG，INFO, WARN, ERROR, ALL, FATAL, OFF这些关键字，否则会抛出DsdException异常。<br />
<strong>参数：</strong>
<code>IN level</code> - 日志级别，必须是DEBUG，INFO, WARN, ERROR, ALL, FATAL, OFF这些关键字 ，否则会抛出DsdException异常。  </p>
<h5 id="get_level">get_level</h5>
<pre><code class="language-java">string get_level()</code></pre>
<p>获取日志级别。<br />
<strong>返回值：</strong><br />
返回当前日志的打印级别。  </p>
<h5 id="info">info</h5>
<pre><code class="language-java">void info(Object message)</code></pre>
<p>打印日志message，级别为info 。<br />
<strong>参数：</strong>
<code>IN message</code> - 打印日志内容。  </p>
<h5 id="debug">debug</h5>
<pre><code class="language-java">void debug(Object message)</code></pre>
<p>打印日志message，级别为debug 。<br />
<strong>参数：</strong><br />
<code>IN message</code> - 打印日志内容。  </p>
<h5 id="warn">warn</h5>
<pre><code class="language-java">void warn(Object message)</code></pre>
<p>打印日志message，级别为warn 。<br />
<strong>参数：</strong>
<code>IN message</code> - 打印日志内容。  </p>
<h5 id="error">error</h5>
<pre><code class="language-java">void error(Object message)</code></pre>
<p>打印日志message，级别为error  。<br />
<strong>参数：</strong>
<code>IN message</code> - 打印日志内容。  </p>
<h5 id="fatal">fatal</h5>
<pre><code class="language-java">void fatal(Object message)</code></pre>
<p>打印日志message，级别为fatal 。<br />
<strong>参数：</strong>
<code>IN message</code> - 打印日志内容。  </p>
<h2 id="dsd_memcached-">Dsd_memcached 类</h2>
<p>DSD dac cloud api 提供了访问memcacahed数据库的方法。</p>
<h3 id="-12">包</h3>
<p>Dsd_memcached 类在 <code>com.dasudian.cloud</code> 包中。   </p>
<h3 id="-13">属性</h3>
<p>请参见相关方法。  </p>
<h3 id="-14">方法</h3>
<h5 id="dsd_memcached">Dsd_memcached</h5>
<pre><code class="language-java">Dsd_memcached(API m)</code></pre>
<p>构造函数，实例化Dsd_memcached类，必须传入一个API实例。<br />
<strong>参数：</strong>
<code>IN API m</code> - 实例化Dsd_memcached类所需要的API 实例。  </p>
<h5 id="get_key">get_key</h5>
<pre><code class="language-java">byte[] get_key(final String serv_name, 
                      final String key)</code></pre>
<p>访问服务名为serv_name的memcached 服务，请求key的值，返回一个byte数组，developers可以将其转成string ,或其他类型，这根据value的类型而定。如果没有该key或查询失败,返回null 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached服务名。<br />
<code>IN key</code> - 查询的key名。<br />
<strong>返回值：</strong><br />
返回key的值，格式为byte数组，如果没有该key或查询失败，返回null 。  </p>
<h5 id="add_key">add_key</h5>
<pre><code class="language-java">int add_key(final String serv_name, 
                  final String key, 
                  final String value)</code></pre>
<p>向数据库serv_name添加一个key, 值为value, 成功返回0，失败返回非0  。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN value</code> - key 的值。<br />
<strong>返回值：</strong><br />
成功：返回0；失败：返回 -1 。  </p>
<h5 id="add_key_expiredtime">add_key_expiredTime</h5>
<pre><code class="language-java">int add_key_expiredTime(final String serv_name, 
                                      final String key, 
                                      final String value, 
                                      final int time)</code></pre>
<p>向数据库serv_name添加一个key, 值为value, 该key的生成周期为time 秒, 成功返回0，失败返回非0  。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN value</code> - key 的值。<br />
<code>IN time</code> - key的生成周期，单位为秒。<br />
<strong>返回值：</strong><br />
成功：返回0；失败：返回 -1 。  </p>
<h5 id="increment_key">increment_key</h5>
<pre><code class="language-java">int increment_key(final String serv_name, 
                          final String key, 
                          final int inc)</code></pre>
<p>请求数据库serv_name，修改key的值，在原来的基础上增加inc，成功返回0，失败非0 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN inc</code> -  增加量。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="decrement_key">decrement_key</h5>
<pre><code class="language-java">int decrement_key(final String serv_name, 
                            final String key, 
                            final int dec)</code></pre>
<p>请求数据库serv_name，修改key的值，在原来的基础上减小dec，成功返回0，失败非0 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN dec</code> - 减小量。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="set_key">set_key</h5>
<pre><code class="language-java">int set_key(final String serv_name, 
                final String key, 
                final String value)</code></pre>
<p>请求数据库serv_name，设置key的值为value。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN value</code> - 待修改的值。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="set_key_expiredtime">set_key_expiredTime</h5>
<pre><code class="language-java">int set_key_expiredTime(final String serv_name, 
                                    final String key, 
                                    final String value, 
                                    final int time)</code></pre>
<p>请求数据库serv_name，设置key的值为value，生成周期为time 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN value</code> - 待修改的值。<br />
<code>IN time</code> - key的生存周期，单位为秒。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="delete_key">delete_key</h5>
<pre><code class="language-java">int delete_key(final String serv_name, 
                    final String key)</code></pre>
<p>请求数据库serv_name，删掉key 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<strong>返回值：</strong><br />
成功返回0，失败非0 。  </p>
<h5 id="replace_key">replace_key</h5>
<pre><code class="language-java">int replace_key(final String serv_name, 
                      final String key, 
                      final String value)</code></pre>
<p>请求数据库serv_name，替换key的值为value 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN value</code> - 待修改的值。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="append_key">append_key</h5>
<pre><code class="language-java">int append_key(final String serv_name, 
                      final String key, 
                      final String value)</code></pre>
<p>请求数据库serv_name, 修改key的值，添加一个后缀value 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN value</code> - 添加的后缀。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="prepend_key">prepend_key</h5>
<pre><code class="language-java">int prepend_key(final String serv_name, 
                        final String key, 
                        final String value)</code></pre>
<p>请求数据库serv_name, 修改key的值，添加一个前缀value 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<code>IN key</code> - key名。<br />
<code>IN value</code> - 添加的 前缀。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="get_version">get_version</h5>
<pre><code class="language-java">String get_version(final String serv_name)</code></pre>
<p>请求数据库serv_name的版本号。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<strong>返回值：</strong><br />
返回数据的版本号，请求失败返回null 。  </p>
<h5 id="flush">flush</h5>
<pre><code class="language-java">int flush(final String serv_name)</code></pre>
<p>请求数据库serv_name，清空所有的key 。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - memcached 服务名。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h2 id="dsd_dsdb">Dsd_dsdb类</h2>
<p>DSD dac cloud api 提供了访问dsdb数据库的方法。</p>
<h3 id="-15">包</h3>
<p>Dsd_dsdb 类在 <code>com.dasudian.cloud</code> 包中 。  </p>
<h3 id="-16">属性</h3>
<p>请参见相关方法。  </p>
<h3 id="-17">方法</h3>
<h5 id="dsd_dsdb-1">Dsd_dsdb</h5>
<pre><code class="language-java">Dsd_dsdb(API m)</code></pre>
<p>构造函数，实例化Dsd_dsdb类，必须传入一个API实例。<br />
<strong>参数：</strong>
<code>IN API m</code> - 实例化Dsd_dsdb类所需要的API 实例。  </p>
<h5 id="get_result">get_result</h5>
<pre><code class="language-java">List&lt; string&gt; get_result()</code></pre>
<p>获取查询请求的结果，返回内容为一个<code>List&lt; string &gt;</code>类型。<br />
<strong>返回值：</strong><br />
dsdb查询请求的结果，<code>List&lt; string&gt;</code>类型。  </p>
<h5 id="get_result_length">get_result_length</h5>
<pre><code class="language-java">int get_result_length()</code></pre>
<p>dsdb查询请求的返回结果为<code>List&lt; string&gt;</code>类型，该函数返回list中元素个数。<br />
<strong>返回值：</strong><br />
查询结果string的个数。  </p>
<h5 id="get_next_page_id">get_next_page_id</h5>
<pre><code class="language-java">String get_next_page_id()</code></pre>
<p>dsdb支持分页查询，分页查询返回的结果携带查询下一页请求的索引，developer调用该方法来获取查询下页的索引。<br />
<strong>返回值：</strong><br />
查询下页的索引字符串。  </p>
<h5 id="put">put</h5>
<pre><code class="language-java">int put(String database, 
          String key, 
          String value)</code></pre>
<p>向数据库database添加一个值为value的key，成功返回0，失败返回非0 。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 待添加的key 。<br />
<code>IN value</code> - 添加的值。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="get">get</h5>
<pre><code class="language-java">int get(String database, 
          String key, 
          String value)</code></pre>
<p>向数据库database添加一个值为value的key，成功返回0，失败返回非0，developers调用get_result方法获取查询结果。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 待添加的key 。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。   </p>
<h5 id="delete">delete</h5>
<pre><code class="language-java">int delete(String database, 
              String key)</code></pre>
<p>删除database中key 。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 待删除的key 。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search">search</h5>
<pre><code class="language-java">int search(String database, 
              String key, 
              float value)</code></pre>
<p>请求database数据库，搜索内容符合key=value的所有记录，返回记录的列表，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项名字。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN value</code> - 关键字内容。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search-1">search</h5>
<pre><code class="language-java">int search(String database, 
              String key, 
              String value)</code></pre>
<p>请求database数据库，搜索内容符合key=value的所有记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项名字
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN value</code> - 关键字内容。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_range">search_range</h5>
<pre><code class="language-java">int search_range(String database, 
                        String key, 
                        String start, 
                        String end)</code></pre>
<p>请求database数据库，搜索内容符合关键字key的内容在[start, end]之间的所有记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项名字。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN start</code> - 最小值。<br />
<code>IN end</code>  - 最大值。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_range-1">search_range</h5>
<pre><code class="language-java">int search_range(String database, 
                        String key, 
                        float start, 
                        float end)</code></pre>
<p>请求database数据库，搜索内容符合关键字key的内容在[start, end]之间的所有记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项名字。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN start</code> - 最小值。<br />
<code>IN end</code> - 最大值。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_pagination">search_pagination</h5>
<pre><code class="language-java">int search_pagination(String database, 
                              String key, 
                              String value, 
                              String next_page_id , 
                              int num_per_page)</code></pre>
<p>请求database数据库，分页搜索内容符合关键字key=value所有记录，每页num_per_page个数据，next_page为分页查询索引，如果为null或空字符串，则是查询第一页的数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项名字，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN value</code> - 关键字内容。<br />
<code>IN next_page_id</code> - 查询下页的索引，如果为空或null，则是查询首页。<br />
<code>IN num_per_page</code> - 每页的返回数据条数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_pagination-1">search_pagination</h5>
<pre><code class="language-java">int int search_pagination(String database, 
                                    String key, 
                                    float value, 
                                    String next_page_id , 
                                    int num_per_page)</code></pre>
<p>请求database数据库，分页搜索内容符合关键字key=value所有记录，每页num_per_page个数据，next_page为分页查询索引，如果为null或空字符串，则是查询第一页的数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项名字，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN value</code> - 关键字内容。<br />
<code>IN next_page_id</code> - 查询下页的索引，如果为空或null，则是查询首页。<br />
<code>IN num_per_page</code> - 每页的返回数据条数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_range_pagination">search_range_pagination</h5>
<pre><code class="language-java">int search_range_pagination(String database, 
                                        String key, 
                                        String start, 
                                        String end, 
                                        String next_page_id , 
                                        int num_per_page)</code></pre>
<p>请求database数据库，搜索内容符合关键字key的内容在[start, end]之间的所有记录，每页num_per_page个数据，next_page为分页查询索引，如果为null或空字符串，则是查询第一页的数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项名字，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN start</code> - 最小值。<br />
<code>IN end</code> - 最大值。<br />
<code>IN next_page_id</code> - 查询下页的索引，如果为空或null，则是查询首页。<br />
<code>IN num_per_page</code> - 每页的返回数据条数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_range_pagination-1">search_range_pagination</h5>
<pre><code class="language-java">int search_range_pagination(String database, 
                                        String key, 
                                        float start, 
                                        float end, 
                                        String next_page_id , 
                                        int num_per_page)</code></pre>
<p>请求database数据库，搜索内容符合关键字key的内容在[start, end]之间的所有记录，每页num_per_page个数据，next_page为分页查询索引，如果为null或空字符串，则是查询第一页的数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项名字，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN start</code> - 最小值。<br />
<code>IN end</code> - 最大值。<br />
<code>IN next_page_id</code> - 查询下页的索引，如果为空或null，则是查询首页。<br />
<code>IN num_per_page</code> - 每页的返回数据条数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value">search_value</h5>
<pre><code class="language-java">int search_value(String database, 
                        String key, 
                        String value)</code></pre>
<p>请求database数据库，搜索内容符合key=value的所有记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的内容。<br />
<strong>参数：</strong><br />
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN value</code> - 关键字内容。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value-1">search_value</h5>
<pre><code class="language-java">int search_value(String database, 
                        String key, 
                        float value)</code></pre>
<p>请求database数据库，搜索内容符合key=value的所有记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的内容。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN value</code> - 关键字内容。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value_range">search_value_range</h5>
<pre><code class="language-java">int search_value_range(String database, 
                                  String key, 
                                  String start, 
                                  String end)</code></pre>
<p>请求database数据库，搜索内容符合关键字key的内容在[start, end]之间的所有记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的内容。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN start</code> - 最小值。<br />
<code>IN end</code> - 最大值。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value_range-1">search_value_range</h5>
<pre><code class="language-java">int search_value_range(String database, 
                                  String key, 
                                  float start, 
                                  float end)</code></pre>
<p>请求database数据库，搜索内容符合关键字key的内容在[start, end]之间的所有记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的内容。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN start</code> - 最小值。<br />
<code>IN end</code> - 最大值。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value_pagination">search_value_pagination</h5>
<pre><code class="language-java">int int search_value_pagination(String database, 
                                              String key, 
                                              float value, 
                                              String next_page_id , 
                                              int num_per_page)</code></pre>
<p>请求database数据库，分页搜索内容符合关键字key=value所有记录，每页num_per_page个数据，next_page为分页查询索引，如果为null或空字符串，则是查询第一页的数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的内容，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN value</code> - 关键字内容。<br />
<code>IN next_page_id</code> - 查询下页的索引，如果为空或null，则是查询首页。<br />
<code>IN num_per_page</code> - 每页的返回数据条数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value_pagination-1">search_value_pagination</h5>
<pre><code class="language-java">int int search_value_pagination(String database, 
                                              String key, 
                                              String value, 
                                              String next_page_id , 
                                              int num_per_page)</code></pre>
<p>请求database数据库，分页搜索内容符合关键字key=value所有记录，每页num_per_page个数据，next_page为分页查询索引，如果为null或空字符串，则是查询第一页的数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的内容，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN value</code> - 关键字内容。<br />
<code>IN next_page_id</code> - 查询下页的索引，如果为空或null，则是查询首页。<br />
<code>IN num_per_page</code> - 每页的返回数据条数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value_range_pagination">search_value_range_pagination</h5>
<pre><code class="language-java">int search_value_range_pagination(String database, 
                                                  String key, 
                                                  float start, 
                                                  float end, 
                                                  String next_page_id , 
                                                  int num_per_page)</code></pre>
<p>请求database数据库，搜索内容符合关键字key的内容在[start, end]之间的所有记录，每页num_per_page个数据，next_page为分页查询索引，如果为null或空字符串，则是查询第一页的数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的内容，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN start</code> - 最小值。<br />
<code>IN end</code> - 最大值。<br />
<code>IN next_page_id</code> - 查询下页的索引，如果为空或null，则是查询首页。<br />
<code>IN num_per_page</code> - 每页的返回数据条数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0。  </p>
<h5 id="search_value_range_pagination-1">search_value_range_pagination</h5>
<pre><code class="language-java">int search_value_range_pagination(String database, 
                                                  String key, 
                                                  String start, 
                                                  String end, 
                                                  String next_page_id , 
                                                  int num_per_page)</code></pre>
<p>请求database数据库，搜索内容符合关键字key的内容在[start, end]之间的所有记录，每页num_per_page个数据，next_page为分页查询索引，如果为null或空字符串，则是查询第一页的数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的内容，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN key</code> - 搜索关键字。<br />
<code>IN start</code> - 最小值。<br />
<code>IN end</code> - 最大值。<br />
<code>IN next_page_id</code> - 查询下页的索引，如果为空或null，则是查询首页。<br />
<code>IN num_per_page</code> - 每页的返回数据条数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="list_all">list_all</h5>
<pre><code class="language-java">int list_all(String database)</code></pre>
<p>请求database数据库，列出所有的key，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的记录项的名字。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_or">search_or</h5>
<pre><code class="language-java">int search_or(String database, Dsdb_search_cond conds)</code></pre>
<p>请求database数据库，搜索内容符合conds中任何一个条件的记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的所有记录项。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN conds</code> - 查询条件列表。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_and">search_and</h5>
<pre><code class="language-java">int search_and(String database, 
                      Dsdb_search_cond conds)</code></pre>
<p>请求database数据库，搜索内容符合conds中所有条件的记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的所有记录项。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN conds</code> - 查询条件列表。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_or_pagination">search_or_pagination</h5>
<pre><code class="language-java">int search_or_pagination(String database, 
                                    Dsdb_search_cond conds, 
                                    String next_pag, 
                                    int num_per_page)</code></pre>
<p>请求database数据库，分页搜索内容符合conds中任何一个条件的记录，搜索的page索引为next_pag, 每页返回num_per_page个数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的所有记录项，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN conds</code> - 查询条件列表。<br />
<code>IN next_pag</code> - 分页查询索引。<br />
<code>IN num_per_page</code> - 每页返回的数据个数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_and_pagination">search_and_pagination</h5>
<pre><code class="language-java">int search_and_pagination(String database, 
                                        Dsdb_search_cond conds, 
                                        String next_pag, 
                                        int num_per_page)</code></pre>
<p>请求database数据库，分页搜索内容符合conds中所有条件的记录，搜索的page索引为next_pag, 每页返回num_per_page个数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的所有记录项，调用get_next_page_id获取下页的查询索引
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN conds</code> - 查询条件列表。
<code>IN next_pag</code> - 分页查询索引。<br />
<code>IN num_per_page</code> - 每页返回的数据个数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。   </p>
<h5 id="search_value_or">search_value_or</h5>
<pre><code class="language-java">int search_value_or(String database, 
                              Dsdb_search_cond conds)</code></pre>
<p>请求database数据库，搜索内容符合conds中任何一个条件的记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的所有记录项的内容。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN conds</code> - 查询条件列表。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0  。  </p>
<h5 id="search_value_and">search_value_and</h5>
<pre><code class="language-java">int search_value_and(String database, 
                                Dsdb_search_cond conds)</code></pre>
<p>请求database数据库，搜索内容符合conds中所有条件的记录，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的所有记录项的内容。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN conds</code> - 查询条件列表。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value_or_pagination">search_value_or_pagination</h5>
<pre><code class="language-java">int search_value_or_pagination(String database, 
                                                Dsdb_search_cond conds, 
                                                String next_pag, 
                                                int num_per_page)</code></pre>
<p>请求database数据库，分页搜索内容符合conds中任何一个条件的记录，搜索的page索引为next_pag, 每页返回num_per_page个数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的所有记录项的内容，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN conds</code> - 查询条件列表。<br />
<code>IN next_pag</code> - 分页查询索引。<br />
<code>IN num_per_page</code> - 每页返回的数据个数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h5 id="search_value_and_pagination">search_value_and_pagination</h5>
<pre><code class="language-java">int search_value_and_pagination(String database, 
                                                  Dsdb_search_cond conds, 
                                                  String next_pag, 
                                                  int num_per_page)</code></pre>
<p>请求database数据库，分页搜索内容符合conds中所有条件的记录，搜索的page索引为next_pag, 每页返回num_per_page个数据，成功返回0，失败返回非0。developers调用get_result方法获取查询结果，查询结果为符合条件的所有记录项的内容，调用get_next_page_id获取下页的查询索引。<br />
<strong>参数：</strong>
<code>IN database</code> - 请求的数据库。<br />
<code>IN conds</code> - 查询条件列表。<br />
<code>IN next_pag</code> - 分页查询索引。<br />
<code>IN num_per_page</code> - 每页返回的数据个数。<br />
<strong>返回值：</strong><br />
成功返回0，失败返回非0 。  </p>
<h2 id="dsd_search_cond-">Dsd_search_cond 类</h2>
<p>DSD_search_cond是Dsd_dsdb的内部类，方便developers按条件查询dsdb数据库</p>
<h3 id="-18">包</h3>
<p>Dsd_search_cond 类在<code>com.dasudian.cloud.Dsd_dsdb</code>包中。   </p>
<h3 id="-19">属性</h3>
<p>请参见相关方法</p>
<h3 id="-20">方法</h3>
<h5 id="dsdb_search_cond">Dsdb_search_cond</h5>
<pre><code class="language-java">Dsdb_search_cond()</code></pre>
<p>构造函数，初始化一个Dsdb_search_cond的实例。  </p>
<h5 id="insert">insert</h5>
<pre><code class="language-java">void insert(String key , String value)</code></pre>
<p>插入一个key=value的查询条件。<br />
<strong>参数：</strong>
<code>IN key</code> - 搜索条件的关键字key 。<br />
<code>IN  value</code> - 关键字的内容。  </p>
<h5 id="insert-1">insert</h5>
<pre><code class="language-java">void insert(String key , int value)</code></pre>
<p>插入一个key=value的查询条件。<br />
<strong>参数：</strong>
<code>IN key</code> - 搜索条件的关键字key 。<br />
<code>IN  value</code> - 关键字的内容。  </p>
<h5 id="insert-2">insert</h5>
<pre><code class="language-java">void insert(String key , String start, String end)</code></pre>
<p>插入一个key的值在[start, end]之间的条件。<br />
<strong>参数：</strong>
<code>IN key</code> - 搜索条件的关键字key 。<br />
<code>IN  start</code> - 最小值。<br />
<code>IN end</code> - 最大值。  </p>
<h5 id="insert-3">insert</h5>
<pre><code class="language-java">void insert(String key , String start, String end)</code></pre>
<p>插入一个key的值在[start, end]之间的条件。<br />
<strong>参数：</strong>
<code>IN key</code> - 搜索条件的关键字key 。<br />
<code>IN  start</code> - 最小值。<br />
<code>IN end</code> - 最大值。  </p>
<h2 id="dsd_redis-">Dsd_redis 类</h2>
<p>Dsd dac cloud api 提供了简单的访问redis数据库的方法。</p>
<h3 id="-21">包</h3>
<p>Dsd_redis 类在<code>com.dasudian.cloud</code>包中 。  </p>
<h3 id="-22">属性</h3>
<p>请参见相关方法。  </p>
<h3 id="-23">方法</h3>
<h5 id="dsd_redis">Dsd_redis</h5>
<pre><code class="language-java">Dsd_redis(API m)</code></pre>
<p>构造函数，实例化Dsd_redis类，必须传入一个API实例。<br />
<strong>参数：</strong>
<code>IN API m</code> - 实例化Dsd_redis类所需要的API 实例。  </p>
<h5 id="execute">execute</h5>
<pre><code class="language-java">byte[] execute(final String serv_name, final String cmd)</code></pre>
<p>请求redis数据库serv_name,执行cmd命令。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - 数据库。<br />
<code>IN cmd</code> - 待执行的命令。<br />
<strong>返回值：</strong><br />
返回byte数组格式的返回结果。 </p>
<h5 id="execute_transaction">execute_transaction</h5>
<pre><code class="language-java">byte[] execute_transaction(final String serv_name, 
                                        @SuppressWarnings("String") final List&lt;String&gt; cmds)`</code></pre>
<p>请求redis数据库serv_name, 以事务的方式执行cmds命令列表。<br />
<strong>参数：</strong>
<code>IN serv_name</code> - 数据库。<br />
<code>IN cmd</code> - 待执行的命令列表。<br />
<strong>返回值：</strong><br />
返回byte数组格式的返回结果。 </p>
      </div>

              <div class="tract"><img src="/images/tract.png"/></div>
            <div class="clearfix"></div>
      <div class="scroll" id="scroll" style="display:none;">
			     <img src="/images/top.png"/>
		  </div>
    </div>
  </div>
  <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>
